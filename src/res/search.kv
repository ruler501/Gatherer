<SearchScreen>:
    id: screen
    BoxLayout:
        orientation: 'vertical'
        SearchPage:
            id: rv
            screen: screen
            size_hint: 1, 9.0 / 12
        Button:
            text: '+'
            size_hint: 1, 1.0 / 12
            pos_hint: {'x_center': 0.5}
            on_release: rv.add_row()
        Button:
            text: 'Search'
            size_hint: 1, 1.0 / 12
            on_release: rv.perform_search()

<SearchPage>:
    inner_layout: inner_layout
    sort_sel: sort_sel
    size_hint: 1, None
    unique: unique
    BoxLayout:
        size_hint: 1, None
        orientation: 'vertical'
        id: inner_layout
        BoxLayout:
            size_hint: 1, None
            orientation: 'horizontal'
            CheckBoxSelector:
                pos_hint: {'x': 0}
                id: unique
                text: 'Unique'
                height: dp(30)
                size_hint: 0.15, None
                default_value: True
            SortSelector:
                pos_hint: {'right': 1}
                size_hint: 0.25, None
                height: dp(30)
                id: sort_sel


<FieldInput>:
    size_hint: 1, None
    height: dp(40)
#    conn_sel: conn_sel
    field_sel: field_sel
    op_sel: op_sel
    neg_sel: neg_sel
    text_sel: text_sel
    orientation: 'horizontal'
#    ConnectorSelector:
#        id: conn_sel
#        size_hint: 0.075, 1
    FieldSelector:
        id: field_sel
        size_hint: 0.125, 1
    CheckBoxSelector:
        id: neg_sel
        size_hint: 0.05, 1
        text: "Not"
    OperationSelector:
        id: op_sel
        field: field_sel.text
        size_hint: 0.125, 1
    TextInput:
        id: text_sel
        size_hint: 0.55, 1
    Button:
        text: 'X'
        size_hint: 0.025, 1
        on_release: self.parent.remove_row()

<CheckBoxSelector>:
    orientation: 'vertical'
    check: check
    CheckBox:
        id: check
        pos_hint: {'center_x': 0.5}
        color: 0, 0, 1, 1
        size_hint: 0.1, 0.5
        on_active: self.parent.set_checked(args[1])
    Label:
        color: 0, 0, 0, 1
        text: self.parent.text
        size_hint: 0.1, 0.5
        font_size: sp(14)
        pos_hint: {'center_x': 0.5}
